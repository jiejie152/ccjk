//请求数数据
//var data_qqs=getQqs(id);
//数据量变化情况数据
//var data_bh=getBhl(id);
var data_qqs=[110, 152, 103,200, 210, 100, 180];
var data_bh=[50, 50.2, 50.4,51, 51.5, 51.8, 52];
function getTitle(id){
	var data_ksh=['50G',5000000,53];
	var data_znjc=['30G',3000000,48];
	var data_hxyw=['34G',3004231,55];
	var data_zwgl=['35G',31200000,55];
	var data_sjzx=['30G',3100000,40];
	var data_zhgx=['33G',3312003,33];
	var data_ywjg=['22G',2200000,43];
	var data_jlb=['12G',2100000,30];
	var data_jgpt=['8G',1200000,20];
	var data_lsjj=['10G',1800000,40];
	var data_cwbb=['10G',2000000,20];
	var data_lytj=['100G',15000000,50];
	var data_dczg=['10G',2000000,23];
	var data_wzgb=['10G',1800000,33];
	switch(id){
		case 'ksh':return data_ksh;break;
		case 'znjc':return data_znjc;break;
		case 'hxyw':return data_hxyw;break;
		case 'zwgl':return data_zwgl;break;
		case 'sjzx':return data_sjzx;break;
		case 'zhgx':return data_zhgx;break;
		case 'ywjg':return data_ywjg;break;
		case 'jlb':return data_jlb;break;
		case 'jgpt':return data_jgpt;break;
		case 'lsjj':return data_lsjj;break;
		case 'cwbb':return data_cwbb;break;
		case 'lytj':return data_lytj;break;
		case 'dczg':return data_dczg;break;
		case 'wzgb':return data_wzgb;break;

	} 
}
function getZyl(id){
	var data_ksh=[1.2,2];
	var data_znjc=[0.8,1.5];
	var data_hxyw=[0.8,2];
	var data_zwgl=[1.1,2.4];
	var data_sjzx=[0.5,0.8];
	var data_zhgx=[0.3,0.8];
	var data_ywjg=[0.2,0.5];
	var data_jlb=[0.3,0.5];
	var data_jgpt=[0.3,0.6];
	var data_lsjj=[0.4,0.7];
	var data_cwbb=[0.2,0.3];
	var data_lytj=[0.8,1.2];
	var data_dczg=[0.2,0.5];
	var data_wzgb=[0.2,0.5];
	switch(id){
		case 'ksh':return data_ksh;break;
		case 'znjc':return data_znjc;break;
		case 'hxyw':return data_hxyw;break;
		case 'zwgl':return data_zwgl;break;
		case 'sjzx':return data_sjzx;break;
		case 'zhgx':return data_zhgx;break;
		case 'ywjg':return data_ywjg;break;
		case 'jlb':return data_jlb;break;
		case 'jgpt':return data_jgpt;break;
		case 'lsjj':return data_lsjj;break;
		case 'cwbb':return data_cwbb;break;
		case 'lytj':return data_lytj;break;
		case 'dczg':return data_dczg;break;
		case 'wzgb':return data_wzgb;break;

	} 
}
function getQqs(id){
	var data_ksh=[100, 152, 200, 334, 390, 330, 220];
	var data_znjc=[108, 142, 208, 314, 370, 280, 220];
	var data_hxyw=[139, 152, 200, 234, 290, 270, 230];
	var data_zwgl=[134, 182, 200, 224, 230, 230, 220];
	var data_sjzx=[110, 152, 200, 234, 290, 230, 220];
	var data_zhgx=[10, 52, 80, 94, 90, 90, 100];
	var data_ywjg=[110, 152, 200, 234, 290, 230, 220];
	var data_jlb=[10, 52, 200, 334, 390, 330, 220];
	var data_jgpt=[100, 152, 200, 334, 390, 330, 220];
	var data_lsjj=[108, 142, 208, 314, 370, 280, 220];
	var data_cwbb=[139, 152, 200, 234, 290, 270, 230];
	var data_lytj=[134, 182, 200, 224, 230, 230, 220];
	var data_dczg=[110, 152, 200, 234, 290, 230, 220];
	var data_wzgb=[10, 52, 80, 94, 90, 90, 100];
	switch(id){
		case 'ksh':return data_ksh;break;
		case 'znjc':return data_znjc;break;
		case 'hxyw':return data_hxyw;break;
		case 'zwgl':return data_zwgl;break;
		case 'sjzx':return data_sjzx;break;
		case 'zhgx':return data_zhgx;break;
		case 'ywjg':return data_ywjg;break;
		case 'jlb':return data_jlb;break;
		case 'jgpt':return data_jgpt;break;
		case 'lsjj':return data_lsjj;break;
		case 'cwbb':return data_cwbb;break;
		case 'lytj':return data_lytj;break;
		case 'dczg':return data_dczg;break;
		case 'wzgb':return data_wzgb;break;

	} 
}
function getBhl(id){
	var data_ksh=[100, 152, 200, 334, 390, 330, 220];
	var data_znjc=[108, 142, 208, 314, 370, 280, 220];
	var data_hxyw=[139, 152, 200, 234, 290, 270, 230];
	var data_zwgl=[134, 182, 200, 224, 230, 230, 220];
	var data_sjzx=[110, 152, 200, 234, 290, 230, 220];
	var data_zhgx=[10, 52, 80, 94, 90, 90, 100];
	var data_ywjg=[110, 152, 200, 234, 290, 230, 220];
	var data_jlb=[10, 52, 200, 334, 390, 330, 220];
	var data_jgpt=[100, 152, 200, 334, 390, 330, 220];
	var data_lsjj=[108, 142, 208, 314, 370, 280, 220];
	var data_cwbb=[139, 152, 200, 234, 290, 270, 230];
	var data_lytj=[134, 182, 200, 224, 230, 230, 220];
	var data_dczg=[110, 152, 200, 234, 290, 230, 220];
	var data_wzgb=[10, 52, 80, 94, 90, 90, 100];
	switch(id){
		case 'ksh':return data_ksh;break;
		case 'znjc':return data_znjc;break;
		case 'hxyw':return data_hxyw;break;
		case 'zwgl':return data_zwgl;break;
		case 'sjzx':return data_sjzx;break;
		case 'zhgx':return data_zhgx;break;
		case 'ywjg':return data_ywjg;break;
		case 'jlb':return data_jlb;break;
		case 'jgpt':return data_jgpt;break;
		case 'lsjj':return data_lsjj;break;
		case 'cwbb':return data_cwbb;break;
		case 'lytj':return data_lytj;break;
		case 'dczg':return data_dczg;break;
		case 'wzgb':return data_wzgb;break;

	} 
}

function init(){
	showTime();
	setInterval("showTime()",1000);
	sjlzb();
	qqs();
	fxt_qqs();
	yzbhl()
}
function hoverAndRedirect(id){

	$("#"+id).hover(function(){
		$("#"+id).css("cursor","pointer");
		$("#"+id).click(function(){
			data=getTitle(id);
			$("#fxt_sjl").html(data[0]);
			$("#fxt_sjts").html(data[1]);
			$("#fxt_qqs").html(data[2]);
			show_pie(id);
			fxt_qqs(id);
			yzbhl(id);
			$("#zh").css("display","none");
			$("#fxt").css("display","block")
		})
	})
}
function showTime(){
    nowtime=new Date();
    year=nowtime.getFullYear();
    month=nowtime.getMonth()+1;
    date=nowtime.getDate();
    document.getElementById("mytime").innerText=year+"-"+month+"-"+date+" "+nowtime.toLocaleTimeString();
}
function sjlzb(){
			var option = {
		    title : {
		        text: '各系统数据量占比',
		        x:'center',
		        textStyle:{
		        	color:'#fff'
		        }
		    },
		    tooltip : {
		        trigger: 'item',
		        formatter: "{a} <br/>{b} : {c} ({d}%)"
		    },
		    series : [
		        {
		            name: '访问来源',
		            type: 'pie',
		            radius : '55%',
		            center: ['50%', '60%'],
		            data:[
		                {value:335, name:'可视化会商'},
		                {value:335, name:'智能决策'},
		                {value:335, name:'核心业务'},
		                {value:335, name:'政务管理'},
		                {value:335, name:'数据资源中心'},
		                {value:335, name:'整合共享'},
		                {value:310, name:'运维监管'},
		                {value:234, name:'军粮B标段'},
		                {value:135, name:'中国粮食经济网'},
		                {value:348, name:'网站改版'},
		                {value:448, name:'12325监管平台'},
		                {value:48, name:'国有粮食企业财务报表系统'},
		                {value:1548, name:'粮油统计信息系统'},
		                {value:548, name:'代储资格'}
		            ],
		            itemStyle: {
		                emphasis: {
		                    shadowBlur: 10,
		                    shadowOffsetX: 0,
		                    shadowColor: 'rgba(0, 0, 0, 0.5)'
		                }
		            }
		        }
		    ],
		    color:['#CD950C','#D02090','#D15FEE','#A4D3EE','#C0FF3E','#9400D3','#8B0A50','#CDB38B','#EEAEEE','#8E388E']
		};
        //初始化echarts实例
        var myChart = echarts.init(document.getElementById('sjlzb_pie'));

        //使用制定的配置项和数据显示图表
        myChart.setOption(option);
}
function qqs(){
		var option = {
		    color: ['#3398DB'],
		    title : {
		        text: '各系统数据库平均每日请求数',
		        x:'center',
		        textStyle:{
		        	color:'#fff'
		        }
		    },
		    tooltip : {
		        trigger: 'axis',
		        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
		            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
		        }
		    },
		    grid: {
		        left: '3%',
		        right: '4%',
		        bottom: '3%',
		        containLabel: true,
		        color:'#fff'
		    },
		    xAxis : [
		        {
		            type : 'category',
		            data : ['可视化会商系统', '智能决策系统', '核心业务系统', '政务管理系统', '数据资源中心', '整合共享', 
		            '运维监管','军粮B标段','中国粮食经济网','网站改版','12325监管平台','国有粮食企业财务报表系统','粮油统计信息系统','代储资格'],
		            axisTick: {
		                alignWithLabel: true
		            },
		            axisLine:{
                        lineStyle:{
                            color:'#FFf'   
                        }
                    },
                    axisLabel:{
                    	interval:0,
                    	rotate:-30
                    } 
		        }
		    ],
		    yAxis : [
		        {
		            type : 'value',
		            axisLine:{
                        lineStyle:{
                            color:'#FFf' 
                        }
                    } 
		        }
		    ],
		    series : [
		        {
		            name:'请求数',
		            type:'bar',
		            barWidth: '60%',
		            data:[10, 52, 200, 334, 390, 330, 220,10, 52, 200, 334, 390, 330, 220]
		        }
		    ]
		};
        //初始化echarts实例
        var myChart = echarts.init(document.getElementById('qqs_bar'));

        //使用制定的配置项和数据显示图表
        myChart.setOption(option);
}

function show_pie(id){
	var data=getZyl(id);
	var zyl=data[0]/data[1];
	zyl=zyl.toFixed(4);
	$("#zyl_text").html(zyl*100+"%");
	 var option = {
		    tooltip: {
		    	show:'false',
		        trigger: 'item',
		        formatter: "{a} <br/>{b}: {c} ({d}%)"
		    },
		    color:['grey', 'green'],
		    series: [
		        {	
		            name:'已占用量',
		            type:'pie',
		            radius: ['80%', '70%'],
		            hoverAnimation:false,
		            avoidLabelOverlap: false,
		            silent:true,
		            label: {
		                normal: {
		                    show: true,
		                    position: 'center',
		                    formatter:function(){
		                    	return data[0]+'T'
		                    },
		                textStyle:{
		                	fontSize:40,
		                	color:'orange'
		                    }
		                },
		                emphasis: {
		                    show: false,
		                    textStyle: {
		                        fontSize: '30',
		                        fontWeight: 'bold'
		                    }


		                }
		            },
		            labelLine: {
		                normal: {
		                    show: false
		                }
		            },
		            data:[
		                {value:data[0], name:'已用'},
		                {value:data[1]-data[0], name:'未用'}
		              
		            ]
		        }
		    ]
		};

        //初始化echarts实例
        var myChart = echarts.init(document.getElementById("zyl"));

        //使用制定的配置项和数据显示图表
        myChart.setOption(option);
}
function fxt_qqs(id){
		var data=getQqs(id);
		var option = {
		    color: ['#3398DB'],
		    title : {
		        text: '近一周每日请求数',
		        x:'center',
                textStyle: {
                    //设置颜色
                color:'#fff',
                fontWeight:'normal',
                fontSize:15
                }        
	 	    },
		    tooltip : {
		        trigger: 'axis',
		        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
		            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
		        }
		    },
		    grid: {
		        left: '3%',
		        right: '4%',
		        bottom: '3%',
		        containLabel: true
		    },
		    xAxis : [
		        {
		            type : 'category',
		            data : ['2018/05/02', '2018/05/03', '2018/05/04', '2018/05/05', '2018/05/06', '2018/05/07', '2018/05/08'],
		            axisLine:{
                        lineStyle:{
                            color:'#fff'
                          
                        }
                    } ,
		            axisTick: {
		                alignWithLabel: true
		            }
		        }
		    ],
		    yAxis : [
		        {
		            type : 'value',
		            axisLine:{
                        lineStyle:{
                            color:'#fff'
                          
                        }
                    } 
		        }
		    ],
		    series : [
		        {
		            name:'请求数',
		            type:'bar',
		            barWidth: '60%',
		            data:data
		        }
		    ]
		};
        //初始化echarts实例
        var myChart = echarts.init(document.getElementById("yzqqs"));

        //使用制定的配置项和数据显示图表
        myChart.setOption(option);
}

function yzbhl(id){
		var data=getBhl(id);
		var option = {
			title : {
		        text: '一周数据量变化',
		        x:'center',
                textStyle: {
                    //设置颜色
                color:'#fff',
                fontWeight:'normal',
                fontSize:15
                }        
	 	    },
		    xAxis: {
		        type: 'category',
		        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
		        axisLine:{
                        lineStyle:{
                            color:'#fff'
                          
                        }
                    } 
		    },
		    yAxis: {
		        type: 'value',
		        name:"万条",
		        axisLine:{
                        lineStyle:{
                            color:'#fff'
                          
                        }
                    } 
		    },
		    series: [{
		        data: data,
		        type: 'line'

		    }]
		};
        //初始化echarts实例
        var myChart = echarts.init(document.getElementById("yz_bhl"));

        //使用制定的配置项和数据显示图表
        myChart.setOption(option);
}